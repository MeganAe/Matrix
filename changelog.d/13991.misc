Optimise queries used to get a users rooms during sync. Contributed by Nick @ Beeper (@fizzadar).
