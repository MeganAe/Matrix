Fix idna and ipv6 literal handling in MatrixFederationAgent
